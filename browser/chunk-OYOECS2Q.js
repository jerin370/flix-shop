import{$ as A,B as w,C as l,D as v,H as y,J as g,L as d,O as r,P as o,Q as h,R as C,S as s,T as m,U,V as c,W as f,X as _,_ as S,a as E,b as T,ca as $,f as O,ga as P,ha as j,ia as I,j as M,ja as H,m as q,o as b,oa as N,ra as Q,s as p,t as u,u as z,v as D,x as k}from"./chunk-HLS52ZV4.js";var R=(()=>{class e{constructor(){this.close=new k,this.addToCart=new k}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=b({type:e,selectors:[["app-product-modal"]],inputs:{product:"product"},outputs:{close:"close",addToCart:"addToCart"},standalone:!0,features:[S],decls:17,vars:5,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-netflix-dark-gray","p-6","rounded-lg","max-w-2xl","w-full","mx-4"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-gray-400","hover:text-white",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"w-full","rounded-lg",3,"src","alt"],[1,"text-gray-300","mb-4"],[1,"text-2xl","font-bold","text-netflix-red","mb-4"],[1,"w-full","py-2","px-4","bg-netflix-red","text-white","rounded","hover:bg-[#f40612]","transition-colors",3,"click"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),o(),r(5,"button",4),s("click",function(){return n.close.emit()}),c(6," \u2715 "),o()(),r(7,"div",5)(8,"div"),h(9,"img",6),o(),r(10,"div")(11,"p",7),c(12),o(),r(13,"p",8),c(14),o(),r(15,"button",9),s("click",function(){return n.addToCart.emit(n.product)}),c(16," Add to Cart "),o()()()()()),i&2&&(l(4),f(n.product.title),l(5),d("src",n.product.thumbnail,w)("alt",n.product.title),l(3),f(n.product.description),l(2),_("$",n.product.price,""))},dependencies:[I],encapsulation:2})}}return e})();var F=(()=>{class e{constructor(){this.cartItems=y([]),this.totalItems=$(()=>this.cartItems().reduce((t,i)=>t+i.quantity,0)),this.totalAmount=$(()=>this.cartItems().reduce((t,i)=>t+i.price*i.quantity,0))}getItems(){return this.cartItems}addToCart(t){let i=this.cartItems();i.find(a=>a.id===t.id)?this.cartItems.set(i.map(a=>a.id===t.id?T(E({},a),{quantity:a.quantity+1}):a)):this.cartItems.set([...i,T(E({},t),{quantity:1})])}removeFromCart(t){this.cartItems.set(this.cartItems().filter(i=>i.id!==t))}updateQuantity(t,i){if(i<=0){this.removeFromCart(t);return}this.cartItems.set(this.cartItems().map(n=>n.id===t?T(E({},n),{quantity:i}):n))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function J(e,x){if(e&1){let t=C();r(0,"div",11)(1,"div",12),h(2,"img",13),r(3,"div")(4,"h3",14),c(5),o(),r(6,"p",15),c(7),o()()(),r(8,"div",12)(9,"div",16)(10,"button",17),s("click",function(){let n=p(t).$implicit,a=m(2);return u(a.cartService.updateQuantity(n.id,n.quantity-1))}),c(11," - "),o(),r(12,"span",18),c(13),o(),r(14,"button",17),s("click",function(){let n=p(t).$implicit,a=m(2);return u(a.cartService.updateQuantity(n.id,n.quantity+1))}),c(15," + "),o()(),r(16,"button",19),s("click",function(){let n=p(t).$implicit,a=m(2);return u(a.cartService.removeFromCart(n.id))}),c(17," Remove "),o()()()}if(e&2){let t=x.$implicit;l(2),d("src",t.thumbnail,w)("alt",t.title),l(3),f(t.title),l(2),_("$",t.price,""),l(6),f(t.quantity)}}function K(e,x){if(e&1&&(r(0,"div",7),g(1,J,18,5,"div",8),r(2,"div",9)(3,"p",10),c(4),o()()()),e&2){let t=m();l(),d("ngForOf",t.cartService.getItems()()),l(3),_("Total: $",t.cartService.totalAmount(),"")}}function W(e,x){e&1&&(r(0,"p",20),c(1,"Your cart is empty"),o())}var Y=(()=>{class e{constructor(t){this.cartService=t,this.close=new k}static{this.\u0275fac=function(i){return new(i||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-cart-modal"]],outputs:{close:"close"},standalone:!0,features:[S],decls:10,vars:2,consts:[["emptyCart",""],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-netflix-dark-gray","p-6","rounded-lg","max-w-2xl","w-full","mx-4"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-gray-400","hover:text-white",3,"click"],["class","space-y-4",4,"ngIf","ngIfElse"],[1,"space-y-4"],["class","flex items-center justify-between p-4 bg-black bg-opacity-40 rounded",4,"ngFor","ngForOf"],[1,"mt-4","text-right"],[1,"text-white","text-xl"],[1,"flex","items-center","justify-between","p-4","bg-black","bg-opacity-40","rounded"],[1,"flex","items-center","space-x-4"],[1,"w-16","h-16","rounded","object-cover",3,"src","alt"],[1,"text-white","font-medium"],[1,"text-netflix-red"],[1,"flex","items-center","space-x-2"],[1,"text-white","bg-gray-700","px-2","rounded",3,"click"],[1,"text-white"],[1,"text-netflix-red","hover:text-red-400",3,"click"],[1,"text-gray-400","text-center","py-8"]],template:function(i,n){if(i&1){let a=C();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4,"Shopping Cart"),o(),r(5,"button",5),s("click",function(){return p(a),u(n.close.emit())}),c(6," \u2715 "),o()(),g(7,K,5,2,"div",6)(8,W,2,0,"ng-template",null,0,A),o()()}if(i&2){let a=U(9);l(7),d("ngIf",n.cartService.getItems()().length)("ngIfElse",a)}},dependencies:[I,P,j],encapsulation:2})}}return e})();var B=(()=>{class e{constructor(t){this.http=t,this.baseUrl="https://dummyjson.com"}getProducts(){return this.http.get(`${this.baseUrl}/products`).pipe(O(t=>t.products))}getProduct(t){return this.http.get(`${this.baseUrl}/products/${t}`)}static{this.\u0275fac=function(i){return new(i||e)(q(H))}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Z(e,x){if(e&1&&(r(0,"span",18),c(1),o()),e&2){let t=m();l(),_(" ",t.cartService.totalItems()," ")}}function tt(e,x){if(e&1){let t=C();r(0,"div",19),s("click",function(){let n=p(t).$implicit,a=m();return u(a.openProductModal(n))}),h(1,"img",20),r(2,"div",21)(3,"h3",22),c(4),o(),r(5,"p",23),c(6),o(),r(7,"p",24),c(8),o()()()}if(e&2){let t=x.$implicit;l(),d("src",t.thumbnail,w)("alt",t.title),l(3),f(t.title),l(2),f(t.description),l(2),_("$",t.price,"")}}function et(e,x){if(e&1){let t=C();r(0,"app-product-modal",25),s("close",function(){p(t);let n=m();return u(n.selectedProduct.set(null))})("addToCart",function(n){p(t);let a=m();return u(a.addToCart(n))}),o()}if(e&2){let t=m();d("product",t.selectedProduct())}}function it(e,x){if(e&1){let t=C();r(0,"app-cart-modal",26),s("close",function(){p(t);let n=m();return u(n.showCart.set(!1))}),o()}}var Et=(()=>{class e{constructor(t,i,n,a){this.productService=t,this.cartService=i,this.authService=n,this.router=a,this.products=y([]),this.selectedProduct=y(null),this.showCart=y(!1)}ngOnInit(){this.productService.getProducts().subscribe(t=>this.products.set(t))}openProductModal(t){this.selectedProduct.set(t)}addToCart(t){this.cartService.addToCart(t),this.selectedProduct.set(null)}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||e)(v(B),v(F),v(Q),v(N))}}static{this.\u0275cmp=b({type:e,selectors:[["app-products"]],standalone:!0,features:[S],decls:21,vars:4,consts:[[1,"min-h-screen","bg-netflix-black"],[1,"bg-netflix-black","shadow","border-b","border-gray-800"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"text-netflix-red","text-2xl","font-bold"],[1,"ml-8","text-xl","font-medium","text-gray-200"],[1,"flex","items-center","space-x-4"],[1,"relative","text-white","hover:text-netflix-red",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"],["class","absolute -top-2 -right-2 bg-netflix-red text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",4,"ngIf"],[1,"px-4","py-2","text-sm","text-white","bg-netflix-red","rounded","hover:bg-[#f40612]",3,"click"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4"],["class","bg-netflix-dark-gray rounded-lg overflow-hidden shadow-lg hover:scale-105 transition-transform duration-200 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[3,"product","close","addToCart",4,"ngIf"],[3,"close",4,"ngIf"],[1,"absolute","-top-2","-right-2","bg-netflix-red","text-white","text-xs","rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"bg-netflix-dark-gray","rounded-lg","overflow-hidden","shadow-lg","hover:scale-105","transition-transform","duration-200","cursor-pointer",3,"click"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"p-4"],[1,"text-lg","font-medium","text-white","mb-2"],[1,"text-gray-400","text-sm","mb-2","line-clamp-2"],[1,"text-netflix-red","font-bold"],[3,"close","addToCart","product"],[3,"close"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),c(6,"MYAPP"),o(),r(7,"h1",6),c(8,"Products"),o()(),r(9,"div",7)(10,"button",8),s("click",function(){return n.showCart.set(!0)}),z(),r(11,"svg",9),h(12,"path",10),o(),g(13,Z,2,1,"span",11),o(),D(),r(14,"button",12),s("click",function(){return n.logout()}),c(15," Sign Out "),o()()()()(),r(16,"main",13)(17,"div",14),g(18,tt,9,5,"div",15),o()(),g(19,et,1,1,"app-product-modal",16)(20,it,1,0,"app-cart-modal",17),o()),i&2&&(l(13),d("ngIf",n.cartService.totalItems()>0),l(5),d("ngForOf",n.products()),l(),d("ngIf",n.selectedProduct()),l(),d("ngIf",n.showCart()))},dependencies:[I,P,j,R,Y],encapsulation:2})}}return e})();export{Et as ProductsComponent};
