import{a as C,b as p,c as _,d as F,e as I,f as M,g as N,h as E,i as k,j}from"./chunk-TIM4MPZY.js";import{C as a,D as s,H as c,J as f,L as l,O as i,P as n,Q as d,S as g,T as b,V as m,X as v,_ as x,ha as h,ia as S,o as u,oa as w,ra as y}from"./chunk-HLS52ZV4.js";function q(r,D){if(r&1&&(i(0,"div",10),m(1),n()),r&2){let o=b();a(),v(" ",o.errorMessage()," ")}}var H=(()=>{class r{constructor(o,e,t){this.fb=o,this.authService=e,this.router=t,this.errorMessage=c(""),this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",p.required]})}onSubmit(){if(this.loginForm.valid){let{email:o,password:e}=this.loginForm.value;this.authService.login(o,e).subscribe({next:t=>{this.router.navigate([t.role==="admin"?"/admin":"/dashboard"])},error:()=>{this.errorMessage.set("Invalid email or password")}})}}static{this.\u0275fac=function(e){return new(e||r)(s(k),s(y),s(w))}}static{this.\u0275cmp=u({type:r,selectors:[["app-login"]],standalone:!0,features:[x],decls:16,vars:3,consts:[[1,"min-h-screen","bg-black","flex","items-center","justify-center","bg-[url('https://assets.nflxext.com/ffe/siteui/vlv3/00103100-5b45-4d4f-af32-342649f1bda5/64774cd8-5c3a-4823-a0bb-1610d6971bd4/US-en-20230821-popsignuptwoweeks-perspective_alpha_website_large.jpg')]","bg-no-repeat","bg-center","bg-cover"],[1,"absolute","inset-0","bg-black","bg-opacity-60"],[1,"relative","max-w-md","w-full","space-y-8","p-12","bg-black","bg-opacity-75","rounded"],[1,"text-3xl","font-bold","text-white"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],["id","email","type","email","formControlName","email","placeholder","Email","required","",1,"mt-1","block","w-full","p-4","rounded","bg-[#333]","text-white","border-0","focus:ring-2","focus:ring-netflix-red"],["id","password","type","password","formControlName","password","placeholder","Password","required","",1,"mt-1","block","w-full","p-4","rounded","bg-[#333]","text-white","border-0","focus:ring-2","focus:ring-netflix-red"],["type","submit",1,"w-full","py-4","px-4","border","border-transparent","rounded","text-base","font-medium","text-white","bg-netflix-red","hover:bg-[#f40612]","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-netflix-red","disabled:opacity-50",3,"disabled"],["class","text-netflix-red text-sm text-center",4,"ngIf"],[1,"text-netflix-red","text-sm","text-center"]],template:function(e,t){e&1&&(i(0,"div",0),d(1,"div",1),i(2,"div",2)(3,"div")(4,"h2",3),m(5,"Sign In"),n()(),i(6,"form",4),g("ngSubmit",function(){return t.onSubmit()}),i(7,"div",5)(8,"div"),d(9,"input",6),n(),i(10,"div"),d(11,"input",7),n()(),i(12,"div")(13,"button",8),m(14," Sign In "),n()(),f(15,q,2,1,"div",9),n()()()),e&2&&(a(6),l("formGroup",t.loginForm),a(7),l("disabled",!t.loginForm.valid),a(2),l("ngIf",t.errorMessage()))},dependencies:[S,h,j,I,C,_,F,E,M,N],encapsulation:2})}}return r})();export{H as LoginComponent};
