import{a as q,b as x,c as G,d as L,e as z,f as P,g as R,i as B,j as H}from"./chunk-TIM4MPZY.js";import{B as I,C as l,D as _,H as y,J as S,L as d,O as i,P as t,Q as c,R as U,S as a,T as u,V as o,W as w,X as k,Y as F,_ as b,ga as V,ha as j,ia as v,j as M,ja as A,m as T,o as h,oa as $,ra as O,s as p,t as f,u as D,v as N,x as g}from"./chunk-HLS52ZV4.js";var Y=(()=>{class s{constructor(e){this.fb=e,this.user=null,this.close=new g,this.save=new g,this.userForm=this.fb.group({firstName:["",x.required],lastName:["",x.required],email:["",[x.required,x.email]],phone:["",x.required],image:["",x.required]})}ngOnInit(){this.user&&this.userForm.patchValue(this.user)}onSubmit(){this.userForm.valid&&this.save.emit(this.userForm.value)}static{this.\u0275fac=function(n){return new(n||s)(_(B))}}static{this.\u0275cmp=h({type:s,selectors:[["app-user-modal"]],inputs:{user:"user"},outputs:{close:"close",save:"save"},standalone:!0,features:[b],decls:34,vars:4,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-netflix-dark-gray","p-6","rounded-lg","max-w-2xl","w-full","mx-4"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-gray-400","hover:text-white",3,"click"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","firstName",1,"block","text-sm","font-medium","text-gray-300"],["id","firstName","type","text","formControlName","firstName",1,"mt-1","block","w-full","rounded","bg-gray-700","border-gray-600","text-white"],["for","lastName",1,"block","text-sm","font-medium","text-gray-300"],["id","lastName","type","text","formControlName","lastName",1,"mt-1","block","w-full","rounded","bg-gray-700","border-gray-600","text-white"],["for","email",1,"block","text-sm","font-medium","text-gray-300"],["id","email","type","email","formControlName","email",1,"mt-1","block","w-full","rounded","bg-gray-700","border-gray-600","text-white"],["for","phone",1,"block","text-sm","font-medium","text-gray-300"],["id","phone","type","tel","formControlName","phone",1,"mt-1","block","w-full","rounded","bg-gray-700","border-gray-600","text-white"],["for","image",1,"block","text-sm","font-medium","text-gray-300"],["id","image","type","url","formControlName","image",1,"mt-1","block","w-full","rounded","bg-gray-700","border-gray-600","text-white"],[1,"flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","text-gray-300","hover:text-white",3,"click"],["type","submit",1,"px-4","py-2","text-sm","text-white","bg-netflix-red","rounded","hover:bg-[#f40612]","disabled:opacity-50",3,"disabled"]],template:function(n,r){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4),t(),i(5,"button",4),a("click",function(){return r.close.emit()}),o(6," \u2715 "),t()(),i(7,"form",5),a("ngSubmit",function(){return r.onSubmit()}),i(8,"div",6)(9,"div")(10,"label",7),o(11,"First Name"),t(),c(12,"input",8),t(),i(13,"div")(14,"label",9),o(15,"Last Name"),t(),c(16,"input",10),t()(),i(17,"div")(18,"label",11),o(19,"Email"),t(),c(20,"input",12),t(),i(21,"div")(22,"label",13),o(23,"Phone"),t(),c(24,"input",14),t(),i(25,"div")(26,"label",15),o(27,"Image URL"),t(),c(28,"input",16),t(),i(29,"div",17)(30,"button",18),a("click",function(){return r.close.emit()}),o(31," Cancel "),t(),i(32,"button",19),o(33),t()()()()()),n&2&&(l(4),k("",r.user?"Edit":"Add"," User"),l(3),d("formGroup",r.userForm),l(25),d("disabled",!r.userForm.valid),l(),k(" ",r.user?"Update":"Add"," "))},dependencies:[v,H,z,q,G,L,P,R],encapsulation:2})}}return s})();var J=(()=>{class s{constructor(){this.message="Are you sure you want to delete this item?",this.close=new g,this.confirm=new g}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=h({type:s,selectors:[["app-delete-modal"]],inputs:{message:"message"},outputs:{close:"close",confirm:"confirm"},standalone:!0,features:[b],decls:14,vars:1,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-netflix-dark-gray","p-6","rounded-lg","max-w-md","w-full","mx-4"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","text-netflix-red","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-xl","font-bold","text-white","mb-4"],[1,"text-gray-300","mb-6"],[1,"flex","justify-center","space-x-4"],[1,"px-4","py-2","text-sm","text-gray-300","hover:text-white",3,"click"],[1,"px-4","py-2","text-sm","text-white","bg-netflix-red","rounded","hover:bg-[#f40612]",3,"click"]],template:function(n,r){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),D(),i(3,"svg",3),c(4,"path",4),t(),N(),i(5,"h2",5),o(6,"Confirm Delete"),t(),i(7,"p",6),o(8),t(),i(9,"div",7)(10,"button",8),a("click",function(){return r.close.emit()}),o(11," Cancel "),t(),i(12,"button",9),a("click",function(){return r.confirm.emit()}),o(13," Delete "),t()()()()()),n&2&&(l(8),w(r.message))},dependencies:[v],encapsulation:2})}}return s})();var K=(()=>{class s{constructor(e){this.http=e,this.baseUrl="https://dummyjson.com"}getUsers(){return this.http.get(`${this.baseUrl}/users`)}addUser(e){return this.http.post(`${this.baseUrl}/users/add`,e)}updateUser(e,n){return this.http.put(`${this.baseUrl}/users/${e}`,n)}deleteUser(e){return this.http.delete(`${this.baseUrl}/users/${e}`)}static{this.\u0275fac=function(n){return new(n||s)(T(A))}}static{this.\u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function W(s,C){if(s&1){let e=U();i(0,"tr",20)(1,"td",21)(2,"div",4),c(3,"img",22),i(4,"div",23)(5,"div",24),o(6),t()()()(),i(7,"td",21)(8,"div",25),o(9),t()(),i(10,"td",21)(11,"div",25),o(12),t()(),i(13,"td",26)(14,"button",27),a("click",function(){let r=p(e).$implicit,m=u();return f(m.openUserModal(r))}),o(15," Edit "),t(),i(16,"button",28),a("click",function(){let r=p(e).$implicit,m=u();return f(m.openDeleteModal(r))}),o(17," Delete "),t()()()}if(s&2){let e=C.$implicit;l(3),d("src",e.image,I)("alt",e.firstName),l(3),F(" ",e.firstName," ",e.lastName," "),l(3),w(e.email),l(3),w(e.phone)}}function X(s,C){if(s&1){let e=U();i(0,"app-user-modal",29),a("close",function(){p(e);let r=u();return f(r.selectedModal.set(!1))})("save",function(r){p(e);let m=u();return f(m.saveUser(r))}),t()}if(s&2){let e=u();d("user",e.selectedUser())}}function Z(s,C){if(s&1){let e=U();i(0,"app-delete-modal",30),a("close",function(){p(e);let r=u();return f(r.userToDelete.set(void 0))})("confirm",function(){p(e);let r=u();return f(r.confirmDelete())}),t()}if(s&2){let e,n=u();d("message","Are you sure you want to delete "+((e=n.userToDelete())==null?null:e.firstName)+" "+((e=n.userToDelete())==null?null:e.lastName)+"?")}}var Ue=(()=>{class s{constructor(e,n,r){this.userService=e,this.authService=n,this.router=r,this.users=y([]),this.selectedModal=y(!1),this.selectedUser=y(void 0),this.userToDelete=y(void 0)}ngOnInit(){this.loadUsers()}loadUsers(){this.userService.getUsers().subscribe(e=>this.users.set(e.users))}openUserModal(e){this.selectedModal.set(!0),this.selectedUser.set(e)}openDeleteModal(e){this.userToDelete.set(e)}saveUser(e){let n=this.selectedUser();n?this.userService.updateUser(n.id,e).subscribe(()=>{this.loadUsers(),this.selectedUser.set(void 0)}):this.userService.addUser(e).subscribe(()=>{this.loadUsers(),this.selectedUser.set(void 0)})}confirmDelete(){let e=this.userToDelete();e&&this.userService.deleteUser(e.id).subscribe(()=>{this.loadUsers(),this.userToDelete.set(void 0)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||s)(_(K),_(O),_($))}}static{this.\u0275cmp=h({type:s,selectors:[["app-users"]],standalone:!0,features:[b],decls:34,vars:3,consts:[[1,"min-h-screen","bg-netflix-black"],[1,"bg-netflix-black","shadow","border-b","border-gray-800"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"text-netflix-red","text-2xl","font-bold"],[1,"ml-8","text-xl","font-medium","text-gray-200"],[1,"flex","items-center","space-x-4"],[1,"px-4","py-2","text-sm","text-white","bg-netflix-red","rounded","hover:bg-[#f40612]",3,"click"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-white"],[1,"bg-netflix-dark-gray","rounded-lg","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-700"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-400","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-400","uppercase","tracking-wider"],[1,"divide-y","divide-gray-700"],["class","hover:bg-black/30",4,"ngFor","ngForOf"],[3,"user","close","save",4,"ngIf"],[3,"message","close","confirm",4,"ngIf"],[1,"hover:bg-black/30"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-10","w-10","rounded-full","object-cover",3,"src","alt"],[1,"ml-4"],[1,"text-sm","font-medium","text-white"],[1,"text-sm","text-gray-300"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-netflix-red","hover:text-red-400","mr-3",3,"click"],[1,"text-gray-400","hover:text-white",3,"click"],[3,"close","save","user"],[3,"close","confirm","message"]],template:function(n,r){n&1&&(i(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),o(6,"MYAPP"),t(),i(7,"h1",6),o(8,"User Management"),t()(),i(9,"div",7)(10,"button",8),a("click",function(){return r.logout()}),o(11," Sign Out "),t()()()()(),i(12,"main",9)(13,"div",10)(14,"h2",11),o(15,"Users"),t(),i(16,"button",8),a("click",function(){return r.openUserModal()}),o(17," Add User "),t()(),i(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th",14),o(23,"User"),t(),i(24,"th",14),o(25,"Email"),t(),i(26,"th",14),o(27,"Phone"),t(),i(28,"th",15),o(29,"Actions"),t()()(),i(30,"tbody",16),S(31,W,18,6,"tr",17),t()()()(),S(32,X,1,1,"app-user-modal",18)(33,Z,1,1,"app-delete-modal",19),t()),n&2&&(l(31),d("ngForOf",r.users()),l(),d("ngIf",r.selectedModal()),l(),d("ngIf",r.userToDelete()))},dependencies:[v,V,j,Y,J],encapsulation:2})}}return s})();export{Ue as UsersComponent};
